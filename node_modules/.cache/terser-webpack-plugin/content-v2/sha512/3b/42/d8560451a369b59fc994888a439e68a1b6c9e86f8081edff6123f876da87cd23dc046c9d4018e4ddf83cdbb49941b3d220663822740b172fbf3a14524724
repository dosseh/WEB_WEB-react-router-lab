{"map":"{\"version\":3,\"sources\":[\"/home/dosseh/WEB-react-router-lab/src/Models/Sensor.js\",\"/home/dosseh/WEB-react-router-lab/src/Models/Data.js\",\"/home/dosseh/WEB-react-router-lab/src/Components/SensorList.js\",\"/home/dosseh/WEB-react-router-lab/src/Components/SensorInformation.js\",\"/home/dosseh/WEB-react-router-lab/src/Components/SensorHistoric.js\",\"/home/dosseh/WEB-react-router-lab/src/Components/App.js\",\"/home/dosseh/WEB-react-router-lab/src/serviceWorker.js\",\"/home/dosseh/WEB-react-router-lab/src/index.js\"],\"names\":[\"Sensor\",\"id\",\"name\",\"data\",\"type\",\"_this\",\"this\",\"Object\",\"classCallCheck\",\"unityOfSensor\",\"HashMapUnity\",\"values\",\"hasOwnProperty\",\"push\",\"join\",\"_id\",\"_name\",\"_data\",\"_type\",\"createClass\",\"key\",\"get\",\"set\",\"Data\",\"value\",\"_value\",\"i\",\"length\",\"Number\",\"sum\",\"parseFloat\",\"Date\",\"toLocaleString\",\"SensorList\",\"listSensor\",\"props\",\"sensorList\",\"map\",\"thisList\",\"react_default\",\"a\",\"createElement\",\"Link\",\"to\",\"concat\",\"replace\",\"className\",\"Component\",\"SensorInformation\",\"averageValue\",\"date\",\"unity\",\"sensorInformation\",\"this_selected_sensor\",\"substring\",\"getlastValues\",\"toFixed\",\"getAverage\",\"getDate\",\"SensorHistoric\",\"listValue\",\"sensorHistoric\",\"console\",\"log\",\"slice\",\"Math\",\"max\",\"scope\",\"url\",\"WebSocket\",\"window\",\"location\",\"host\",\"client\",\"require\",\"connect\",\"on\",\"subscribe\",\"err\",\"App\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"list\",\"dataOperation\",\"nameFromOnclick\",\"object\",\"topic\",\"message\",\"jsonData\",\"JSON\",\"parse\",\"toString\",\"checkSensor\",\"thisSensor\",\"curentSensor\",\"apply\",\"sensor\",\"setState\",\"_this2\",\"BrowserRouter\",\"styles\",\"Components_SensorList\",\"class\",\"placeholder\",\"contenteditable\",\"Route\",\"path\",\"exact\",\"strict\",\"render\",\"Components_SensorInformation\",\"selectedSensor\",\"match\",\"params\",\"urlToRecuva\",\"Components_SensorHistoric\",\"Boolean\",\"hostname\",\"ReactDOM\",\"Components_App\",\"document\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"then\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"\\nexport const version = () => \\\"1.0.0\\\";\\nexport class Sensor {\\n    constructor(id, name, data, type) {\\n      this._id = id;\\n      this._name = name;\\n      this._data = data;\\n      this._type = type;\\n    }\\n  \\n    get id() {\\n      return this._id || \\\"\\\";\\n    }\\n    get name() {\\n      return this._name || \\\"\\\";\\n    }\\n    get data() {\\n      return this._data || {};\\n    }\\n    get type() {\\n      return this._type || \\\"\\\";\\n    }\\n  \\n    set id(id) {\\n      this._id = id;\\n    }\\n  \\n    set name(name) {\\n      this._name = name;\\n    }\\n    set data(data) {\\n      this._data = data;\\n    }\\n    set type(type) {\\n      this._type = type;\\n    }\\n  \\n    unityOfSensor = () => {\\n      HashMapUnity[\\\"TEMPERATURE\\\"] = \\\" Â°C \\\";\\n      HashMapUnity[\\\"PERCENT\\\"] = \\\" % \\\";\\n      HashMapUnity[\\\"OPEN_CLOSE\\\"] = \\\"\\\";\\n  \\n      var values = [];\\n      if (HashMapUnity.hasOwnProperty(this.type))\\n        values.push(HashMapUnity[this.type]);\\n      return values.join(\\\"\\\");\\n    };\\n  }\\n  \\n  const HashMapUnity = {};\\n  \",\"export const version = () => \\\"1.0.0\\\";\\n\\nexport class Data {\\n  constructor(value) {\\n    this._value = value;\\n  }\\n\\n  get value() {\\n    return this._value || [];\\n  }\\n\\n  set value(value) {\\n    this._value = value;\\n  }\\n\\n  getAverage() {\\n    for (var i = 0; i < this.value.length; i++) {\\n      if (!Number(this.value[i])) {\\n        return \\\"Pas de valeur moyenne pour ce capteur !\\\";\\n      }\\n    }\\n    var sum = 0;\\n    for (i = 0; i < this.value.length; i++) {\\n      sum += parseFloat(this.value[i]);\\n    }\\n    return sum / this.value.length;\\n  }\\n  getlastValues() {\\n    return \\\" \\\" + this.value[this.value.length - 1] + \\\"\\\";\\n  }\\n\\n  getDate() {\\n    return new Date().toLocaleString();\\n  }\\n}\\n\\n\",\"import React, { Component } from 'react';\\n\\nimport { Link } from 'react-router-dom';\\nimport '../Cascading_Style_Sheets/App.css';\\n\\n\\nclass SensorList extends Component {\\n    render() {\\n\\n        const listSensor = this.props.sensorList.map(function (thisList) {\\n            return <p>\\n                <Link to={`/${thisList.name.replace(/\\\\s+/g, '_')}`}>\\n                    <button className=\\\"btn btn-outline-success btn-lg btn-block\\\">\\n                        {thisList.name}\\n                    </button>\\n                </Link>\\n\\n            </p>\\n        });\\n        return (\\n            <ul>{listSensor}</ul>\\n        );\\n    }\\n}\\n\\nexport default SensorList;\\n\",\"import React, { Component } from \\\"react\\\";\\n\\nimport \\\"../Cascading_Style_Sheets/App.css\\\";\\n\\nclass SensorInformation extends Component {\\n  render() {\\n    let id, name, value, type, averageValue, date, unity;\\n\\n    if (typeof this.props.sensorInformation !== \\\"undefined\\\") {\\n      let this_selected_sensor = this.props.sensorInformation;\\n\\n      id = this_selected_sensor.id.substring(6);\\n      name = this_selected_sensor.name;\\n\\n      value = Number(this_selected_sensor.data.getlastValues())\\n        ? parseFloat(this_selected_sensor.data.getlastValues()).toFixed(2)\\n        : this_selected_sensor.data.getlastValues();\\n\\n      type = this_selected_sensor.type;\\n\\n      unity = this_selected_sensor.unityOfSensor();\\n\\n      averageValue = Number(this_selected_sensor.data.getAverage())\\n        ? parseFloat(this_selected_sensor.data.getAverage()).toFixed(2)\\n        : this_selected_sensor.data.getAverage();\\n\\n      date = this_selected_sensor.data.getDate();\\n    }\\n\\n    return (\\n      <div>\\n        <b>ID : {id} </b>\\n        <br />\\n        <br />\\n        <b>NOM : {name}</b>\\n        <br />\\n        <br />\\n        <b>\\n          VALEUR : {value} {unity}\\n        </b>\\n        <br />\\n        <br />\\n        <b>TYPE : {type}</b>\\n        <br />\\n        <br />\\n        <b>\\n          VALEUR MOYENNE : {averageValue} {unity}\\n        </b>\\n        <br />\\n        <br />\\n        <b> DATE : {date}</b>\\n        <br />\\n        <br />\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default SensorInformation;\\n\",\"import React, { Component } from \\\"react\\\";\\nimport \\\"../Cascading_Style_Sheets/App.css\\\";\\n\\nclass SensorHistoric extends Component {\\n  render() {\\n    let  listValue;\\n    if (typeof this.props.sensorHistoric !== \\\"undefined\\\") {\\n      \\n      let this_selected_sensor = this.props.sensorHistoric.data.value;\\n      console.log(this_selected_sensor);\\n       listValue = this_selected_sensor.slice(Math.max(this_selected_sensor.length - 5, 1)).map(function(thisList) {\\n       if(Number(thisList)) thisList = parseFloat(thisList).toFixed(2);\\n        return (\\n          <tr>\\n            <th scope=\\\"row\\\">{thisList}</th>\\n          </tr>\\n          \\n        );\\n      });\\n    }\\n    return(<tbody>{listValue}</tbody>);\\n  }\\n}\\n\\nexport default SensorHistoric;\",\"import React, { Component } from \\\"react\\\";\\nimport styles from \\\"../Cascading_Style_Sheets/App.css\\\";\\nimport { Sensor} from \\\"../Models/Sensor\\\";\\nimport { Data } from \\\"../Models/Data\\\";\\n\\nimport { BrowserRouter as Router, Route } from \\\"react-router-dom\\\";\\nimport SensorList from \\\"./SensorList\\\";\\nimport SensorInformation from \\\"./SensorInformation.js\\\";\\nimport SensorHistoric from \\\"./SensorHistoric.js\\\";\\n\\nconst ws = new WebSocket(\\\"ws://\\\" + window.location.host + \\\"/socket\\\");\\n\\nlet url = ws.url; // the one we'll set soon by onclic action\\n\\nlet mqtt = require(\\\"mqtt\\\");\\nlet client = mqtt.connect(url);\\n\\nclient.on(\\\"connect\\\", function() {\\n  client.subscribe(\\\"#\\\", function(err) {});\\n});\\n\\nlet sensorList = [];\\n\\n// It will return true of the sensor name already exist in sensorList array\\n\\nfunction checkSensor(id, sensorList) {\\n  for (let i = 0; i < sensorList.length; i++) {\\n    if (sensorList[i].id === id) {\\n      return true;\\n    }\\n  }\\n}\\n// It will return a sensor wich name is passing in paramettes from sensorList if that one's name exist in the sensorList\\n\\nfunction curentSensor(id, sensorList) {\\n  for (let i = 0; i < sensorList.length; i++) {\\n    if (sensorList[i].id === id) {\\n      return sensorList[i];\\n    }\\n  }\\n}\\n\\nclass App extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = { list: [] };\\n\\n    this.dataOperation();\\n  }\\n\\n  // It will return a sensor wich name is passing in paramettes from state's list if that one's name exist in the state's list\\n\\n  selectedSensor(nameFromOnclick) {\\n    for (let i = 0; i < this.state.list.length; i++) {\\n      if (this.state.list[i].name === nameFromOnclick) {\\n        return this.state.list[i];\\n      }\\n    }\\n  }\\n\\n  // It will get json data and do an operation about it. Then it will set the state of state's list\\n\\n  dataOperation() {\\n    let object = this;\\n\\n    client.on(\\\"message\\\", function(topic, message) {\\n      let jsonData = JSON.parse(message.toString());\\n\\n      let name = jsonData[\\\"name\\\"];\\n      let value = jsonData[\\\"value\\\"];\\n      let type = jsonData[\\\"type\\\"];\\n\\n      let data = new Data([value]);\\n\\n      if (!checkSensor(topic, sensorList)) {\\n        let sensor = new Sensor(topic, name, data, type);\\n        sensorList.push(sensor);\\n      } else {\\n        let thisSensor = curentSensor(topic, sensorList);\\n        sensorList.push.apply(thisSensor.data.value, [value]);\\n      }\\n      object.setState({ list: sensorList }); \\n\\n    });\\n  }\\n  \\n\\n  render() {\\n    \\n    return (\\n      <Router>\\n        <div className={styles.App}>\\n          <article>\\n            <header>WELCOME TO THE HOME PAGE</header>\\n            <div className=\\\"content\\\">\\n              <nav>\\n                <SensorList sensorList={this.state.list} />\\n              </nav>\\n              <main>\\n              <form class=\\\"form-inline\\\">\\n                  <div class=\\\"form-group mx-sm-3 mb-2\\\">\\n                   \\n                    <input\\n                      type=\\\"text\\\"\\n                      class=\\\"form-control\\\"\\n                      placeholder=\\\" Put the Brocker URL hear\\\"\\n                    />\\n\\n                  </div>\\n\\n                  <button type=\\\"submit\\\" class=\\\"btn btn-primary mb-2\\\">\\n                    VALIDER\\n                  </button>\\n                </form>\\n                <br />\\n                <div className=\\\"content\\\">\\n                  <div className=\\\"contenerInfoSensor\\\">\\n                    <strong contenteditable>INFORMATIONS DES CAPTEURS</strong>\\n                    <br />\\n                    <br />\\n                    <Route\\n                      path=\\\"/:urlToRecuva\\\"\\n                      exact\\n                      strict\\n                      render={props => {\\n                        return (\\n                          <SensorInformation\\n                            sensorInformation={this.selectedSensor(\\n                              props.match.params.urlToRecuva.replace(\\n                                /\\\\_+/g,\\n                                \\\" \\\"\\n                              )\\n                            )}\\n                          />\\n                        );\\n                      }}\\n                    />\\n                  </div>\\n                  <div className=\\\"contenerHistoricTable\\\">\\n                    <table class=\\\"table w-100 p-3\\\">\\n                      <thead class=\\\"thead-dark\\\">\\n                        <tr>\\n                          <th scope=\\\"col\\\">HISTORIQUE</th>\\n                        </tr>\\n                      </thead>\\n                      <Route\\n                        path=\\\"/:urlToRecuva\\\"\\n                        exact\\n                        strict\\n                        render={props => {\\n                          return (\\n                            <SensorHistoric\\n                              sensorHistoric={this.selectedSensor(\\n                                props.match.params.urlToRecuva.replace(\\n                                  /\\\\_+/g,\\n                                  \\\" \\\"\\n                                )\\n                              )}\\n                            />\\n                          );\\n                        }}\\n                      />\\n                    </table>\\n                  </div>\\n                </div>\\n              </main>\\n            </div>\\n            <footer>\\n              All rights reversed.\\n              <br />\\n              <small>@ Dosseh KOUTO 2019</small>\\n            </footer>\\n          </article>\\n        </div>\\n      </Router>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA.\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      if (\\n        response.status === 404 ||\\n        response.headers.get('content-type').indexOf('javascript') === -1\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './Cascading_Style_Sheets/index.css';\\nimport App from './Components/App';\\nimport * as serviceWorker from './serviceWorker';\\nimport 'bootstrap/dist/css/bootstrap.css';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: http://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t){},145:function(e,t){},151:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),l=n(59),c=n.n(l),s=(n(67),n(3)),o=n(4),i=n(15),u=n(14),m=n(16),h=n(23),E=n.n(h),f=function(){function e(t,n,a,r){var l=this;Object(s.a)(this,e),this.unityOfSensor=function(){b.TEMPERATURE=\" \\xb0C \",b.PERCENT=\" % \",b.OPEN_CLOSE=\"\";var e=[];return b.hasOwnProperty(l.type)&&e.push(b[l.type]),e.join(\"\")},this._id=t,this._name=n,this._data=a,this._type=r}return Object(o.a)(e,[{key:\"id\",get:function(){return this._id||\"\"},set:function(e){this._id=e}},{key:\"name\",get:function(){return this._name||\"\"},set:function(e){this._name=e}},{key:\"data\",get:function(){return this._data||{}},set:function(e){this._data=e}},{key:\"type\",get:function(){return this._type||\"\"},set:function(e){this._type=e}}]),e}(),b={},p=function(){function e(t){Object(s.a)(this,e),this._value=t}return Object(o.a)(e,[{key:\"getAverage\",value:function(){for(var e=0;e<this.value.length;e++)if(!Number(this.value[e]))return\"Pas de valeur moyenne pour ce capteur !\";var t=0;for(e=0;e<this.value.length;e++)t+=parseFloat(this.value[e]);return t/this.value.length}},{key:\"getlastValues\",value:function(){return\" \"+this.value[this.value.length-1]}},{key:\"getDate\",value:function(){return(new Date).toLocaleString()}},{key:\"value\",get:function(){return this._value||[]},set:function(e){this._value=e}}]),e}(),v=n(154),d=n(153),g=n(152),O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:\"render\",value:function(){var e=this.props.sensorList.map(function(e){return r.a.createElement(\"p\",null,r.a.createElement(g.a,{to:\"/\".concat(e.name.replace(/\\s+/g,\"_\"))},r.a.createElement(\"button\",{className:\"btn btn-outline-success btn-lg btn-block\"},e.name)))});return r.a.createElement(\"ul\",null,e)}}]),t}(a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:\"render\",value:function(){var e,t,n,a,l,c,s;if(\"undefined\"!==typeof this.props.sensorInformation){var o=this.props.sensorInformation;e=o.id.substring(6),t=o.name,n=Number(o.data.getlastValues())?parseFloat(o.data.getlastValues()).toFixed(2):o.data.getlastValues(),a=o.type,s=o.unityOfSensor(),l=Number(o.data.getAverage())?parseFloat(o.data.getAverage()).toFixed(2):o.data.getAverage(),c=o.data.getDate()}return r.a.createElement(\"div\",null,r.a.createElement(\"b\",null,\"ID : \",e,\" \"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\"NOM : \",t),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\"VALEUR : \",n,\" \",s),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\"TYPE : \",a),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\"VALEUR MOYENNE : \",l,\" \",s),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\" DATE : \",c),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null))}}]),t}(a.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:\"render\",value:function(){var e;if(\"undefined\"!==typeof this.props.sensorHistoric){var t=this.props.sensorHistoric.data.value;console.log(t),e=t.slice(Math.max(t.length-5,1)).map(function(e){return Number(e)&&(e=parseFloat(e).toFixed(2)),r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{scope:\"row\"},e))})}return r.a.createElement(\"tbody\",null,e)}}]),t}(a.Component),k=new WebSocket(\"ws://\"+window.location.host+\"/socket\").url,w=n(70).connect(k);w.on(\"connect\",function(){w.subscribe(\"#\",function(e){})});var _=[];var N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={list:[]},n.dataOperation(),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:\"selectedSensor\",value:function(e){for(var t=0;t<this.state.list.length;t++)if(this.state.list[t].name===e)return this.state.list[t]}},{key:\"dataOperation\",value:function(){var e=this;w.on(\"message\",function(t,n){var a=JSON.parse(n.toString()),r=a.name,l=a.value,c=a.type,s=new p([l]);if(function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return!0}(t,_)){var o=function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n]}(t,_);_.push.apply(o.data.value,[l])}else{var i=new f(t,r,s,c);_.push(i)}e.setState({list:_})})}},{key:\"render\",value:function(){var e=this;return r.a.createElement(v.a,null,r.a.createElement(\"div\",{className:E.a.App},r.a.createElement(\"article\",null,r.a.createElement(\"header\",null,\"WELCOME TO THE HOME PAGE\"),r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(\"nav\",null,r.a.createElement(O,{sensorList:this.state.list})),r.a.createElement(\"main\",null,r.a.createElement(\"form\",{class:\"form-inline\"},r.a.createElement(\"div\",{class:\"form-group mx-sm-3 mb-2\"},r.a.createElement(\"input\",{type:\"text\",class:\"form-control\",placeholder:\" Put the Brocker URL hear\"})),r.a.createElement(\"button\",{type:\"submit\",class:\"btn btn-primary mb-2\"},\"VALIDER\")),r.a.createElement(\"br\",null),r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(\"div\",{className:\"contenerInfoSensor\"},r.a.createElement(\"strong\",{contenteditable:!0},\"INFORMATIONS DES CAPTEURS\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(d.a,{path:\"/:urlToRecuva\",exact:!0,strict:!0,render:function(t){return r.a.createElement(y,{sensorInformation:e.selectedSensor(t.match.params.urlToRecuva.replace(/\\_+/g,\" \"))})}})),r.a.createElement(\"div\",{className:\"contenerHistoricTable\"},r.a.createElement(\"table\",{class:\"table w-100 p-3\"},r.a.createElement(\"thead\",{class:\"thead-dark\"},r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{scope:\"col\"},\"HISTORIQUE\"))),r.a.createElement(d.a,{path:\"/:urlToRecuva\",exact:!0,strict:!0,render:function(t){return r.a.createElement(j,{sensorHistoric:e.selectedSensor(t.match.params.urlToRecuva.replace(/\\_+/g,\" \"))})}})))))),r.a.createElement(\"footer\",null,\"All rights reversed.\",r.a.createElement(\"br\",null),r.a.createElement(\"small\",null,\"@ Dosseh KOUTO 2019\")))))}}]),t}(a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(150);c.a.render(r.a.createElement(N,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,n){},62:function(e,t,n){e.exports=n(151)},67:function(e,t,n){},74:function(e,t){},76:function(e,t){}},[[62,1,2]]]);","extractedComments":[]}