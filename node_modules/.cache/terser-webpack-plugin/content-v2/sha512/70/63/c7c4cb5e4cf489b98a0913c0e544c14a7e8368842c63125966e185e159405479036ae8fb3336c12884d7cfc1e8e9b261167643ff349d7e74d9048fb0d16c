{"map":"{\"version\":3,\"sources\":[\"/home/dosseh/WEB-react-router-lab/src/Model.js\",\"/home/dosseh/WEB-react-router-lab/src/SensorList.js\",\"/home/dosseh/WEB-react-router-lab/src/SensorInformation.js\",\"/home/dosseh/WEB-react-router-lab/src/SensorHistoric.js\",\"/home/dosseh/WEB-react-router-lab/src/App.js\",\"/home/dosseh/WEB-react-router-lab/src/serviceWorker.js\",\"/home/dosseh/WEB-react-router-lab/src/index.js\"],\"names\":[\"Data\",\"value\",\"Object\",\"classCallCheck\",\"this\",\"_value\",\"createClass\",\"key\",\"i\",\"length\",\"Number\",\"sum\",\"parseFloat\",\"Date\",\"toLocaleString\",\"get\",\"set\",\"Sensor\",\"id\",\"name\",\"data\",\"type\",\"_this\",\"unityOfSensor\",\"HashMapUnity\",\"values\",\"hasOwnProperty\",\"push\",\"join\",\"_id\",\"_name\",\"_data\",\"_type\",\"SensorList\",\"listSensor\",\"props\",\"sensorList\",\"map\",\"thisList\",\"react_default\",\"a\",\"createElement\",\"Link\",\"to\",\"concat\",\"replace\",\"className\",\"Component\",\"SensorInformation\",\"averageValue\",\"date\",\"unity\",\"sensorInformation\",\"this_selected_sensor\",\"substring\",\"getlastValues\",\"toFixed\",\"getAverage\",\"getDate\",\"SensorHistoric\",\"listValue\",\"sensorHistoric\",\"console\",\"log\",\"slice\",\"Math\",\"max\",\"scope\",\"ws\",\"WebSocket\",\"window\",\"location\",\"host\",\"client\",\"require\",\"connect\",\"url\",\"on\",\"subscribe\",\"err\",\"App\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"list\",\"dataOperation\",\"nameFromOnclick\",\"object\",\"topic\",\"message\",\"jsonData\",\"JSON\",\"parse\",\"toString\",\"checkSensor\",\"thisSensor\",\"curentSensor\",\"apply\",\"sensor\",\"setState\",\"_this2\",\"BrowserRouter\",\"styles\",\"src_SensorList\",\"contenteditable\",\"Route\",\"path\",\"exact\",\"strict\",\"render\",\"src_SensorInformation\",\"selectedSensor\",\"match\",\"params\",\"urlToRecuva\",\"class\",\"src_SensorHistoric\",\"Boolean\",\"hostname\",\"ReactDOM\",\"src_App_0\",\"document\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"then\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"export const version = () => \\\"1.0.0\\\";\\n\\nexport class Data {\\n  constructor(value) {\\n    this._value = value;\\n  }\\n\\n  get value() {\\n    return this._value || [];\\n  }\\n\\n  set value(value) {\\n    this._value = value;\\n  }\\n\\n  getAverage() {\\n    for (var i = 0; i < this.value.length; i++) {\\n      if (!Number(this.value[i])) {\\n        return \\\"Pas de valeur moyenne pour ce capteur !\\\";\\n      }\\n    }\\n    var sum = 0;\\n    for (i = 0; i < this.value.length; i++) {\\n      sum += parseFloat(this.value[i]);\\n    }\\n    return sum / this.value.length;\\n  }\\n  getlastValues() {\\n    return \\\" \\\" + this.value[this.value.length - 1] + \\\"\\\";\\n  }\\n\\n  getDate() {\\n    return new Date().toLocaleString();\\n  }\\n}\\n\\nexport class Sensor {\\n  constructor(id, name, data, type) {\\n    this._id = id;\\n    this._name = name;\\n    this._data = data;\\n    this._type = type;\\n  }\\n\\n  get id() {\\n    return this._id || \\\"\\\";\\n  }\\n  get name() {\\n    return this._name || \\\"\\\";\\n  }\\n  get data() {\\n    return this._data || {};\\n  }\\n  get type() {\\n    return this._type || \\\"\\\";\\n  }\\n\\n  set id(id) {\\n    this._id = id;\\n  }\\n\\n  set name(name) {\\n    this._name = name;\\n  }\\n  set data(data) {\\n    this._data = data;\\n  }\\n  set type(type) {\\n    this._type = type;\\n  }\\n\\n  unityOfSensor = () => {\\n    HashMapUnity[\\\"TEMPERATURE\\\"] = \\\" Â°C \\\";\\n    HashMapUnity[\\\"PERCENT\\\"] = \\\" % \\\";\\n    HashMapUnity[\\\"OPEN_CLOSE\\\"] = \\\"\\\";\\n\\n    var values = [];\\n    if (HashMapUnity.hasOwnProperty(this.type))\\n      values.push(HashMapUnity[this.type]);\\n    return values.join(\\\"\\\");\\n  };\\n}\\n\\nconst HashMapUnity = {};\\n\",\"import React, { Component } from 'react';\\n\\nimport { Link } from 'react-router-dom';\\nimport './App.css';\\n\\n\\nclass SensorList extends Component {\\n    render() {\\n\\n        const listSensor = this.props.sensorList.map(function (thisList) {\\n            return <p>\\n                <Link to={`/${thisList.name.replace(/\\\\s+/g, '_')}`}>\\n                    <button className=\\\"btn btn-outline-success btn-lg btn-block\\\">\\n                        {thisList.name}\\n                    </button>\\n                </Link>\\n\\n            </p>\\n        });\\n        return (\\n            <ul>{listSensor}</ul>\\n        );\\n    }\\n}\\n\\nexport default SensorList;\\n\",\"import React, { Component } from \\\"react\\\";\\n\\nimport \\\"./App.css\\\";\\n\\nclass SensorInformation extends Component {\\n  render() {\\n    let id, name, value, type, averageValue, date, unity;\\n\\n    if (typeof this.props.sensorInformation !== \\\"undefined\\\") {\\n      let this_selected_sensor = this.props.sensorInformation;\\n\\n      id = this_selected_sensor.id.substring(6);\\n      name = this_selected_sensor.name;\\n\\n      value = Number(this_selected_sensor.data.getlastValues())\\n        ? parseFloat(this_selected_sensor.data.getlastValues()).toFixed(2)\\n        : this_selected_sensor.data.getlastValues();\\n\\n      type = this_selected_sensor.type;\\n\\n      unity = this_selected_sensor.unityOfSensor();\\n\\n      averageValue = Number(this_selected_sensor.data.getAverage())\\n        ? parseFloat(this_selected_sensor.data.getAverage()).toFixed(2)\\n        : this_selected_sensor.data.getAverage();\\n\\n      date = this_selected_sensor.data.getDate();\\n    }\\n\\n    return (\\n      <div>\\n        <b>ID : {id} </b>\\n        <br />\\n        <br />\\n        <b>NOM : {name}</b>\\n        <br />\\n        <br />\\n        <b>\\n          VALEUR : {value} {unity}{\\\" \\\"}\\n        </b>\\n        <br />\\n        <br />\\n        <b>TYPE : {type}</b>\\n        <br />\\n        <br />\\n        <b>\\n          {\\\" \\\"}\\n          VALEUR MOYENNE : {averageValue} {unity}\\n        </b>\\n        <br />\\n        <br />\\n        <b> DATE : {date}</b>\\n        <br />\\n        <br />\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default SensorInformation;\\n\",\"import React, { Component } from \\\"react\\\";\\nimport \\\"./App.css\\\";\\n\\nclass SensorHistoric extends Component {\\n  render() {\\n    let  listValue;\\n    if (typeof this.props.sensorHistoric !== \\\"undefined\\\") {\\n      \\n      let this_selected_sensor = this.props.sensorHistoric.data.value;\\n      console.log(this_selected_sensor);\\n       listValue = this_selected_sensor.slice(Math.max(this_selected_sensor.length - 5, 1)).map(function(thisList) {\\n       if(Number(thisList)) thisList = parseFloat(thisList).toFixed(2);\\n        return (\\n          <tr>\\n            <th scope=\\\"row\\\">{thisList}</th>\\n          </tr>\\n          \\n        );\\n      });\\n    }\\n    return(<tbody>{listValue}</tbody>);\\n  }\\n}\\n\\nexport default SensorHistoric;\\n\",\"import React, { Component } from \\\"react\\\";\\nimport styles from \\\"./App.css\\\";\\nimport { Sensor, Data } from \\\"./Model.js\\\";\\nimport { BrowserRouter as Router, Route } from \\\"react-router-dom\\\";\\nimport SensorList from \\\"./SensorList.js\\\";\\nimport SensorInformation from \\\"./SensorInformation.js\\\";\\nimport SensorHistoric from \\\"./SensorHistoric.js\\\";\\n\\nconst ws = new WebSocket(\\\"ws://\\\" + window.location.host + \\\"/socket\\\");\\n\\nlet mqtt = require(\\\"mqtt\\\");\\nlet client = mqtt.connect(ws.url);\\n\\nclient.on(\\\"connect\\\", function () {\\n  client.subscribe(\\\"#\\\", function (err) { });\\n});\\n\\nlet sensorList = [];\\n\\n// It will return true of the sensor name already exist in sensorList array \\n\\nfunction checkSensor(name, sensorList) {\\n  for (let i = 0; i < sensorList.length; i++) {\\n    if (sensorList[i].name === name) {\\n      return true;\\n    }\\n  }\\n}\\n// It will return a sensor wich name is passing in paramettes from sensorList if that one's name exist in the sensorList \\n\\nfunction curentSensor(name, sensorList) {\\n\\n  for (let i = 0; i < sensorList.length; i++) {\\n    if (sensorList[i].name === name) {\\n      return sensorList[i];\\n    }\\n  }\\n}\\n\\nclass App extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = { list: [] };\\n\\n    this.dataOperation();\\n  }\\n\\n  // It will return a sensor wich name is passing in paramettes from state's list if that one's name exist in the state's list \\n\\n  selectedSensor(nameFromOnclick) {\\n    for (let i = 0; i < this.state.list.length; i++) {\\n      if (this.state.list[i].name === nameFromOnclick) {\\n        return this.state.list[i];\\n      }\\n    }\\n  }\\n\\n  // It will get json data and do an operation about it. Then it will set the state of state's list\\n\\n  dataOperation() {\\n    let object = this;\\n\\n    client.on(\\\"message\\\", function (topic, message) {\\n      let jsonData = JSON.parse(message.toString());\\n\\n      let name = jsonData[\\\"name\\\"];\\n      let value = jsonData[\\\"value\\\"];\\n      let type = jsonData[\\\"type\\\"];\\n\\n      let data = new Data([value]);\\n\\n      if (!checkSensor(name, sensorList)) {\\n        let sensor = new Sensor(topic, name, data, type);\\n        sensorList.push(sensor);\\n      } else {\\n\\n        let thisSensor = curentSensor(name, sensorList);\\n        sensorList.push.apply(thisSensor.data.value, [value]);\\n\\n      }\\n\\n      object.setState({ list: sensorList });\\n    });\\n  }\\n\\n\\n  render() {\\n\\n    return (\\n      <Router>\\n        <div className={styles.App}>\\n          <article>\\n            <header>WELCOME TO THE HOME PAGE</header>\\n            <div className=\\\"content\\\">\\n              <nav>\\n                <SensorList sensorList={this.state.list} />\\n              </nav>\\n              <main>\\n\\n                <br />\\n                <div className=\\\"content\\\">\\n\\n                  <div className=\\\"contenerInfoSensor\\\">\\n                    <strong contenteditable>INFORMATIONS DES CAPTEURS</strong>\\n                    <br />\\n                    <br />\\n                    <Route\\n                      path=\\\"/:urlToRecuva\\\"\\n                      exact\\n                      strict\\n                      render={(props) => {\\n                        return <SensorInformation sensorInformation={this.selectedSensor(props.match.params.urlToRecuva.replace(/\\\\_+/g, ' '))} />;\\n\\n                      }}\\n                    />\\n                  </div>\\n                  <div className=\\\"contenerHistoricTable\\\">\\n                    <table class=\\\"table w-100 p-3\\\">\\n                      <thead class=\\\"thead-dark\\\">\\n                        <tr>\\n                          <th scope=\\\"col\\\">HISTORIQUE</th>\\n                        </tr>\\n                      </thead>\\n                      <Route\\n                        path=\\\"/:urlToRecuva\\\"\\n                        exact\\n                        strict\\n                        render={(props) => {\\n                          return <SensorHistoric sensorHistoric={this.selectedSensor(props.match.params.urlToRecuva.replace(/\\\\_+/g, ' '))} />;\\n\\n                        }}\\n                      />\\n                    </table>\\n\\n                  </div>\\n                </div>\\n\\n              </main>\\n            </div>\\n            <footer>\\n              All rights reversed.\\n              <br />\\n              <small>@ Dosseh KOUTO 2019</small>\\n            </footer>\\n          </article>\\n        </div>\\n      </Router>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA.\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      if (\\n        response.status === 404 ||\\n        response.headers.get('content-type').indexOf('javascript') === -1\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport * as serviceWorker from './serviceWorker';\\nimport 'bootstrap/dist/css/bootstrap.css';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: http://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t){},145:function(e,t){},151:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),l=n(59),c=n.n(l),s=(n(67),n(4)),u=n(5),i=n(15),o=n(14),m=n(16),h=n(23),E=n.n(h),f=function(){function e(t){Object(s.a)(this,e),this._value=t}return Object(u.a)(e,[{key:\"getAverage\",value:function(){for(var e=0;e<this.value.length;e++)if(!Number(this.value[e]))return\"Pas de valeur moyenne pour ce capteur !\";var t=0;for(e=0;e<this.value.length;e++)t+=parseFloat(this.value[e]);return t/this.value.length}},{key:\"getlastValues\",value:function(){return\" \"+this.value[this.value.length-1]}},{key:\"getDate\",value:function(){return(new Date).toLocaleString()}},{key:\"value\",get:function(){return this._value||[]},set:function(e){this._value=e}}]),e}(),b=function(){function e(t,n,a,r){var l=this;Object(s.a)(this,e),this.unityOfSensor=function(){p.TEMPERATURE=\" \\xb0C \",p.PERCENT=\" % \",p.OPEN_CLOSE=\"\";var e=[];return p.hasOwnProperty(l.type)&&e.push(p[l.type]),e.join(\"\")},this._id=t,this._name=n,this._data=a,this._type=r}return Object(u.a)(e,[{key:\"id\",get:function(){return this._id||\"\"},set:function(e){this._id=e}},{key:\"name\",get:function(){return this._name||\"\"},set:function(e){this._name=e}},{key:\"data\",get:function(){return this._data||{}},set:function(e){this._data=e}},{key:\"type\",get:function(){return this._type||\"\"},set:function(e){this._type=e}}]),e}(),p={},v=n(154),d=n(153),g=n(152),O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"render\",value:function(){var e=this.props.sensorList.map(function(e){return r.a.createElement(\"p\",null,r.a.createElement(g.a,{to:\"/\".concat(e.name.replace(/\\s+/g,\"_\"))},r.a.createElement(\"button\",{className:\"btn btn-outline-success btn-lg btn-block\"},e.name)))});return r.a.createElement(\"ul\",null,e)}}]),t}(a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"render\",value:function(){var e,t,n,a,l,c,s;if(\"undefined\"!==typeof this.props.sensorInformation){var u=this.props.sensorInformation;e=u.id.substring(6),t=u.name,n=Number(u.data.getlastValues())?parseFloat(u.data.getlastValues()).toFixed(2):u.data.getlastValues(),a=u.type,s=u.unityOfSensor(),l=Number(u.data.getAverage())?parseFloat(u.data.getAverage()).toFixed(2):u.data.getAverage(),c=u.data.getDate()}return r.a.createElement(\"div\",null,r.a.createElement(\"b\",null,\"ID : \",e,\" \"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\"NOM : \",t),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\"VALEUR : \",n,\" \",s,\" \"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\"TYPE : \",a),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\" \",\"VALEUR MOYENNE : \",l,\" \",s),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\" DATE : \",c),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null))}}]),t}(a.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"render\",value:function(){var e;if(\"undefined\"!==typeof this.props.sensorHistoric){var t=this.props.sensorHistoric.data.value;console.log(t),e=t.slice(Math.max(t.length-5,1)).map(function(e){return Number(e)&&(e=parseFloat(e).toFixed(2)),r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{scope:\"row\"},e))})}return r.a.createElement(\"tbody\",null,e)}}]),t}(a.Component),k=new WebSocket(\"ws://\"+window.location.host+\"/socket\"),w=n(70).connect(k.url);w.on(\"connect\",function(){w.subscribe(\"#\",function(e){})});var _=[];var N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={list:[]},n.dataOperation(),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"selectedSensor\",value:function(e){for(var t=0;t<this.state.list.length;t++)if(this.state.list[t].name===e)return this.state.list[t]}},{key:\"dataOperation\",value:function(){var e=this;w.on(\"message\",function(t,n){var a=JSON.parse(n.toString()),r=a.name,l=a.value,c=a.type,s=new f([l]);if(function(e,t){for(var n=0;n<t.length;n++)if(t[n].name===e)return!0}(r,_)){var u=function(e,t){for(var n=0;n<t.length;n++)if(t[n].name===e)return t[n]}(r,_);_.push.apply(u.data.value,[l])}else{var i=new b(t,r,s,c);_.push(i)}e.setState({list:_})})}},{key:\"render\",value:function(){var e=this;return r.a.createElement(v.a,null,r.a.createElement(\"div\",{className:E.a.App},r.a.createElement(\"article\",null,r.a.createElement(\"header\",null,\"WELCOME TO THE HOME PAGE\"),r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(\"nav\",null,r.a.createElement(O,{sensorList:this.state.list})),r.a.createElement(\"main\",null,r.a.createElement(\"br\",null),r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(\"div\",{className:\"contenerInfoSensor\"},r.a.createElement(\"strong\",{contenteditable:!0},\"INFORMATIONS DES CAPTEURS\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(d.a,{path:\"/:urlToRecuva\",exact:!0,strict:!0,render:function(t){return r.a.createElement(y,{sensorInformation:e.selectedSensor(t.match.params.urlToRecuva.replace(/\\_+/g,\" \"))})}})),r.a.createElement(\"div\",{className:\"contenerHistoricTable\"},r.a.createElement(\"table\",{class:\"table w-100 p-3\"},r.a.createElement(\"thead\",{class:\"thead-dark\"},r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{scope:\"col\"},\"HISTORIQUE\"))),r.a.createElement(d.a,{path:\"/:urlToRecuva\",exact:!0,strict:!0,render:function(t){return r.a.createElement(j,{sensorHistoric:e.selectedSensor(t.match.params.urlToRecuva.replace(/\\_+/g,\" \"))})}})))))),r.a.createElement(\"footer\",null,\"All rights reversed.\",r.a.createElement(\"br\",null),r.a.createElement(\"small\",null,\"@ Dosseh KOUTO 2019\")))))}}]),t}(a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(150);c.a.render(r.a.createElement(N,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,n){},62:function(e,t,n){e.exports=n(151)},67:function(e,t,n){},74:function(e,t){},76:function(e,t){}},[[62,1,2]]]);","extractedComments":[]}