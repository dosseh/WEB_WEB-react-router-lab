{"ast":null,"code":"'use strict';\n\nvar copy = require('es5-ext/object/copy'),\n    normalizeOptions = require('es5-ext/object/normalize-options'),\n    ensureCallable = require('es5-ext/object/valid-callable'),\n    map = require('es5-ext/object/map'),\n    callable = require('es5-ext/object/valid-callable'),\n    validValue = require('es5-ext/object/valid-value'),\n    bind = Function.prototype.bind,\n    defineProperty = Object.defineProperty,\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    define;\n\ndefine = function define(name, desc, options) {\n  var value = validValue(desc) && callable(desc.value),\n      dgs;\n  dgs = copy(desc);\n  delete dgs.writable;\n  delete dgs.value;\n\n  dgs.get = function () {\n    if (!options.overwriteDefinition && hasOwnProperty.call(this, name)) return value;\n    desc.value = bind.call(value, options.resolveContext ? options.resolveContext(this) : this);\n    defineProperty(this, name, desc);\n    return this[name];\n  };\n\n  return dgs;\n};\n\nmodule.exports = function (props\n/*, options*/\n) {\n  var options = normalizeOptions(arguments[1]);\n  if (options.resolveContext != null) ensureCallable(options.resolveContext);\n  return map(props, function (desc, name) {\n    return define(name, desc, options);\n  });\n};","map":null,"metadata":{},"sourceType":"script"}